<Page x:Class="prak7_romanov.Pages.MainPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:prak7_romanov.Pages"
      xmlns:model="clr-namespace:prak7_romanov.Model"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="MainPage">

    <Page.DataContext>
        <model:MainViewModel/>
    </Page.DataContext>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <!-- Watch 1 column-->
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <!--Register form-->

            <RowDefinition Height="100"/>
            <!--Enter form-->

            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <!--Info Form-->

            <RowDefinition Height="50"/>
            <!--Systemic state -->

        </Grid.RowDefinitions>

        <!--Register Form-->
        <Border Margin="5" BorderThickness="2" BorderBrush="Black" 
             Grid.RowSpan="2" Background="Bisque">
            <ScrollViewer>
                <StackPanel Margin="5">
                    <TextBox Text="{Binding CurrentDoctor.Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     Width="Auto" Height="Auto" ToolTip="Имя" />
                    <TextBox Text="{Binding CurrentDoctor.LastName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     Width="Auto" Height="Auto" ToolTip="Фамилия" Margin="0 10 0 5"/>
                    <TextBox Text="{Binding CurrentDoctor.MiddleName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     Width="Auto" Height="Auto" ToolTip="Отчество" Margin="0 5"/>
                    <TextBox Text="{Binding CurrentDoctor.Specialisation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     Width="Auto" Height="Auto" ToolTip="Специализация" Margin="0 5"/>

                    <PasswordBox Name="Password1"
                                 Width="Auto" Height="Auto" ToolTip="Пароль" Margin="0 5"/>
                    <PasswordBox Name="Password2"
                     Width="Auto" Height="Auto" ToolTip="Подтвердите пароль" Margin="0 5 0 0"/>
                    <Button Content="Загеристрироваться" Width="Auto"  Margin="0 10" Click="Register_Click"/>
                </StackPanel>
            </ScrollViewer>

        </Border>

        <!--Enter Form-->
        <Border Margin="5" BorderThickness="2" BorderBrush="Black" Background="Bisque" Grid.Row="2">
            <StackPanel Margin="5">
                <TextBox Text="{Binding LoginId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="Auto" Height="Auto" ToolTip="Логин" />
                <TextBox Text="{Binding Log             inPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="Auto" Height="Auto" ToolTip="Пароль" Margin="0 5"/>
                <Button Content="Войти" Width="Auto" Margin="0 10" Click="Login_Click"/>
            </StackPanel>
        </Border>

        <!--Info Form-->
        <Border Margin="5" BorderThickness="2" BorderBrush="Black" Grid.RowSpan="3" Background="Bisque" Grid.Row="3">
            <StackPanel Margin="5">
                <TextBlock Text="Идентефекатор врача:"/>
                <TextBlock Text="{Binding CurrentDoctor.Id}" />
                <TextBlock Text="Имя:" Margin="0,10,0,0"/>
                <TextBlock Text="{Binding CurrentDoctor.Name}" />
                <TextBlock Text="Специализация:" Margin="0,10,0,0"/>
                <TextBlock Text="{Binding CurrentDoctor.LastName}" />
                <TextBlock Text="Специализация:" Margin="0,10,0,0"/>
                <TextBlock Text="{Binding CurrentDoctor.MiddleName}" />
                <TextBlock Text="Специализация:" Margin="0,10,0,0"/>
                <TextBlock Text="{Binding CurrentDoctor.Specialisation}" />
            </StackPanel>
        </Border>

        <!--Systemic Form-->
        <Border Margin="2" BorderThickness="2" BorderBrush="Black" Background="Bisque" Grid.ColumnSpan="3" Grid.Row="6">
            <StackPanel  Margin="5" Orientation="Horizontal">
                <Label Content="Файлов .json =" VerticalAlignment="Center"   />
                <TextBlock Text="{Binding Statistics.TotalFiles}" VerticalAlignment="Center" Background="Bisque"/>

                <Label Content="Кол-во докторов =" VerticalAlignment="Center" Margin="100 0 0 0"/>
                <TextBlock Text="{Binding Statistics.DoctorFiles}" VerticalAlignment="Center" Background="Bisque" Margin="0 0 100 0"/>

                <Label Content="Кол-во пациентов =" VerticalAlignment="Center"/>
                <TextBlock Text="{Binding Statistics.PacientFiles}" VerticalAlignment="Center" Background="Bisque"/>
            </StackPanel>
        </Border>

        <!--Finder Form-->
        <Border Margin="5" BorderThickness="2" BorderBrush="Black" Grid.Column="1" Background="Bisque">
            <StackPanel Margin="5">
                <TextBox Text="{Binding SearchPacientId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" ToolTip="Введите id пациента" />
                <Button Content="Искать" Width="Auto"  Margin="0 10" Click="Search_Click"/>
            </StackPanel>
        </Border>

        <!--Reception Form-->
        <Border Margin="5" BorderThickness="2" BorderBrush="Black" Grid.RowSpan="5" Grid.Column="1" Grid.Row="1" Background="Bisque">
            <ScrollViewer>
                <StackPanel Margin="5">
                    <TextBlock Text="Информация о пациенте:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding CurrentPacient.Name}" Margin="0,5"/>
                    <TextBlock Text="{Binding CurrentPacient.LastName}"/>
                </StackPanel>
            </ScrollViewer>
        </Border>


        <!--Form Add-->
        <Border Margin="5" BorderThickness="2" BorderBrush="Black" Grid.RowSpan="3" Grid.Column="2" Grid.Row="0" Background="Bisque">
            <ScrollViewer>
                <StackPanel Margin="5">
                    <TextBox Text="{Binding CurrentPacient.Name, Mode=TwoWay}" Width="Auto" Height="Auto" ToolTip="Имя" />
                    <TextBox Text="{Binding CurrentPacient.LastName, Mode=TwoWay}" Width="Auto" Height="Auto" ToolTip="Фамилия" Margin="0 5"/>
                    <TextBox Text="{Binding CurrentPacient.MiddleName, Mode=TwoWay}" Width="Auto" Height="Auto" ToolTip="Отчество" Margin="0 5"/>
                    <TextBox Text="{Binding CurrentPacient.Birthday, Mode=TwoWay}" Width="Auto" Height="Auto" ToolTip="Дата рождения" Margin="0 5"/>
                    <Button Content="Добавить" Width="Auto" Margin="0 10" Click="AddPacient_Click"/>
                </StackPanel>
            </ScrollViewer>
        </Border>


        <!--Editing Form-->
        <Border Margin="5" BorderThickness="2" BorderBrush="Black" Grid.RowSpan="3" Grid.Column="2" Grid.Row="3" Background="Bisque">
            <ScrollViewer>
                <StackPanel Margin="5">
                    <TextBlock Text="Редактирование пациента" FontWeight="Bold"/>
                    <Button Content="Сохранить изменения" Click="SavePacient_Click" Margin="0,10"/>
                    <Button Content="Сбросить" Click="ResetPacient_Click"/>
                </StackPanel>
            </ScrollViewer>
        </Border>


    </Grid>
</Page>
